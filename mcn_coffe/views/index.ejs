<!DOCTYPE html>
<html>
<head>
<title><%= title %></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
    <script src="/javascripts/angularApp.js"></script>
</head>
<body ng-app="mcnCoffee" ng-controller="MainCtrl">
    <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#/home">COFFEE</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Login</a></li>
                <li><a href="#">Register</a></li>
            </ul>
        </div>
    </nav>
    <ui-view></ui-view>
    <script type="text/ng-template" id="/home.html">
        <div class="bs-example">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <!-- Carousel indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>
                <!-- Wrapper for carousel items -->
                <div class="carousel-inner">
                    <div class="item active">
                        <img src="../images/image1.jpg" alt="First Slide">
                        <div class="carousel-caption">Find COFFEE of Your Life!</div>
                    </div>
                    <div class="item">
                        <img src="../images/image1.jpg" alt="Second Slide">
                        <div class="carousel-caption">Find COFFEE of Your Life!</div>
                    </div>
                    <div class="item">
                        <img src="../images/image1.jpg" alt="Third Slide">
                        <div class="carousel-caption">Find COFFEE of Your Life!</div>
                    </div>
                </div>
                <!-- Carousel controls -->
                <a class="carousel-control left" href="#myCarousel" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </a>
                <a class="carousel-control right" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
            </div>
        </div>
        <div class="row">
            <div ng-repeat="cafe in cafes">
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <a href="#/cafes/{{$index}}">
                    <div class="thumbnail">
                        <img src='{{ cafe.thumbnail }}' onerror="this.src='/images/default.png'">
                        <div class="caption">
                            <h3>{{ cafe.name }}({{ cafe.menus.length }})</h3>
                        </div>
                    </div>
                    </a>
                </div>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/cafes.html">
        <div class="row">
            <div class="page-header left-full-margin right-full-margin">
                <h1>{{cafe.name}} <small> we serve best coffee in the world!</small></h1>
            </div>
            <div class="col-sm-8">
                <ul class="list-group">
                    <div ng-repeat="menu in cafe.menus">
                        <li ng-click="selectMenu(menu)" class="list-group-item" data-toggle="modal" data-target="#myModal">
                            <span class="badge">{{menu.wait}}</span>
                            <h4 class="list-group-item-heading">{{menu.name}}</h4>
                            <p class="list-group-item-text">{{menu.cost}}원</p>
                        </li>
                    </div>
                </ul>
            </div>
            <div class="col-sm-4">
                <p class="bg-primary full-padding no-margin">Order List</p>
                <ul class="list-group no-margin">
                    <div ng-repeat="order in orders">
                        <li class="list-group-item">
                            <div class="row no-margin">
                                <div class="menu-name">
                                    <span class="name">{{order.menu.name}}</span>
                                    <span ng-repeat="option in order.options" class="label label-default right-half-margin">{{option.name}}</span>
                                </div>
                                <div class="menu-info">
                                    <div class="col-xs-6 pull-left">
                                        <span class="glyphicon glyphicon-remove"></span>
                                        {{order.cost * order.count}} 원
                                    </div>
                                    <div class="col-xs-6 pull-right">
                                        <span ng-click="decreaseOrder(order)" class="glyphicon glyphicon-minus"></span>
                                        <span class="menu-count">{{order.count}}</span>
                                        <span ng-click="increaseOrder(order)" class="glyphicon glyphicon-plus"></span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </div>
                </ul>
                <p class="bg-primary full-padding pull-right">52,500 원</p>
                <p class="bg-primary full-padding">합계</p>
                <button type="button" class="btn btn-primary btn-block pull-center">주문하기</button>
            </div>
        </div>
        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">{{selectedMenu.name}}</h4>
                    </div>
                    <div class="modal-body">
                        <div class="option-block">
                            <h4>기본</h4>
                            <div class="checkbox disabled">
                                <label>
                                    <input type="checkbox" value="" checked disabled>
                                    <span class="label label-default">{{selectedMenu.name}}</span>
                                </label>
                            </div>
                        </div>
                        <div ng-repeat="option in selectedMenu.options">
                            <div class="option-block">
                                <h4>{{option.name}}</h4>
                                <div ng-show="option.group">
                                    <div ng-repeat="option in option.options" class="radio">
                                        <label>
                                            <input type="radio" name="optionsRadios" id="optionsRadios1" value="{{option.name}}">
                                            <span class="label label-default">{{option.name}}</span>
                                        </label>
                                    </div>
                                </div>
                                <div ng-hide="option.group">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" value="{{option.name}}">
                                            <span class="label label-default">{{option.name}}</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <p>10,000원</p>
                        <div class="pull-center">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">메뉴 추가하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
</body>
</html>
