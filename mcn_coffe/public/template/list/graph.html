<div id="search_form">
    <fieldset>
        <div class="input-group">
            <div style="padding-left:0" class="input-group-btn search-panel">
            </div>
            <input id="start_picker" type="text" class="form-control" placeholder="시작 날짜 ex)09/08/2016">
            <div style="padding-left:0" class="input-group-btn search-panel">
            </div>
            <input id="finish_picker" type="text" class="form-control" placeholder="마지막 날짜 ex)10/08/2016">
        </div>
        <div class="text-center">
            <button ng-click="getOrders()" class="btn btn-default btn-block btn-raised">조회</button>
        </div>
    </fieldset>
    <fieldset>
        <div class="text-center" ng-hide="orders.length">
            검색 결과가 없습니다.
        </div>
        <table ng-show="orders.length" class="table table-striped table-hover ">
            <thead>
            <tr>
                <th>주문자</th>
                <th>시간</th>
                <th>메뉴</th>
                <th>옵션</th>
                <th class="text-right">수량</th>
                <th class="text-right">가격</th>
                <th class="text-right">총합</th>
            </tr>
            </thead>
            <tbody ng-repeat="order in orders" ng-switch on="order.status">
            <tr ng-switch-when="2" class="danger" ng-repeat="menu in order.orders track by $index">
                <td style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">
                    {{order.user.username}}
                </td>
                <td style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">
                    {{getMonth(order.updateAt)}}월 {{getDate(order.updateAt)}}일 {{getHour(order.updateAt)}}시 {{getMinute(order.updateAt)}}분
                </td>
                <td>{{menu.menu.name}}</td>
                <td><span ng-repeat="option in menu.options">{{option.name}}</span></td>
                <td class="text-right">{{menu.count}} 개</td>
                <td class="text-right">{{menu.cost * menu.count}} 원</td>
                <td class="text-right" style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">{{order.cost}} 원</td>
            </tr>
            <tr ng-switch-when="4" class="success" ng-repeat="menu in order.orders track by $index">
                <td style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">
                    {{order.user.username}}
                </td>
                <td style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">
                    {{getMonth(order.updateAt)}}월 {{getDate(order.updateAt)}}일 {{getHour(order.updateAt)}}시 {{getMinute(order.updateAt)}}분
                </td>
                <td>{{menu.menu.name}}</td>
                <td><span ng-repeat="option in menu.options">{{option.name}}</span></td>
                <td class="text-right">{{menu.count}} 개</td>
                <td class="text-right">{{menu.cost * menu.count}} 원</td>
                <td class="text-right" style="vertical-align: middle;" ng-if="$index==0" rowspan="{{order.orders.length}}">{{order.cost}} 원</td>
            </tr>
            </tbody>
        </table>
        <div ng-show="isNetworking" class="text-center"><div class="loader"></div></div>
    </fieldset>
</div>
<!--
<div class="chart-container">
    <canvas id="doughnut" class="chart chart-doughnut" chart-data="doughnut_data" chart-labels="series" ></canvas>
</div>
-->
<div class="chart-container">
    <canvas id="bar" class="chart chart-bar" chart-data="data" chart-labels="labels" chart-series="series" ></canvas>
</div>
<!--
<div class="chart-container">
    <canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-series="series" ></canvas>
</div>
-->